{% extends "base.html" %}
{% import "macros.html" as macros %}

{% block content %}
<nav id="overlord" class="overlord">
    {{ macros::mini_logo(classes="", title=config.title, siteurl=config.base_url, logourl=config.extra.profile) }}
</nav>

<section class="post_container">
    <article>
        {% block post %}
        <h1 class="article_title"><a href="{{page.permalink}}" id="article_link">{{ page.title }}</a></h1>
        {{ macros::frontmatter(classes="frontmatter_page", date=page.date, word_count=page.word_count, read_time=page.reading_time) }}

        {{ page.content | replace(from=`<a href="` ~ config.base_url ~ `/`, to=`<a  href="` ~ config.base_url ~ `/`)
                        | replace(from=`<a href="https://`, to=`<a target="_blank" rel="noopener" href="https://`)
                        | replace(from=`<a href="http://`, to=`<a target="_blank" rel="noopener" href="http://`)
                        | safe
        }}

        {% endblock post %}
    </article>
</section>
{% endblock content %}
